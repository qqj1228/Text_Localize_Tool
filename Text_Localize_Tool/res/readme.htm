<html>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta http-equiv="progma" content="no-cache">
<title>Text_Localize_Tool readme</title>
<body>
<B>Text_Localize_Tool readme</B>
<br>
<br>
<hr>
<br>本工具是在参考了“Agemo's Script Editor 文本对照编辑器”的基础上编写而成。
<br>在此对该软件的作者表示感谢。使用方法基本同原软件。
<br>本工具同源软件一样采用GNU GPL开源协议。
<br><a href="http://www.gnu.org/copyleft/gpl.html">GNU GPL原文</a>
<br>若有任何想法和建议请与我取得联系：qqj1228@163.com
<br>
<hr>
<pre>
使用说明：

1、现仅支持“地址,长度,文本”的导出文本格式，且编码格式必须为unicode(UTF-16 LE带BOM)，其他
   格式的文本文件打开会报错。

2、控制符仅支持用“{}”来表示。控制符高亮为蓝色，默认无法编辑控制符，不过可以在选项里修改成
   允许修改控制符。

3、本工具可以精确对比翻译文本和对照文本。显示出两者不同之处，以红色+下划线显示。

   若对照译文和中文译文无区别时，对照译文以“+-+-+-+-+-+”显示。

   若不勾选“中文”列完整高亮显示差异文字选项的话，则“中文”列只会把相对于对照文本多出来的
   字以红色+下划线显示，其余不同之处使用普通文字颜色。

4、文本越界会有提示。

   若出现文本越界的情况，该越界的整个条目会以黄色背景高亮显示，并且该行的“NO”列也会以黄色
   背景高亮显示。

   提示框中同时会显示第几行超长多少字节，提示信息框背景色同时变为黄色。双击该条提示信息的话
   ，程序会自动跳到该行。

   当把当前页内的所有文本越界情况都修正后，提示框背景会还原为默认色。

5、文本越界计算规则：

   a、若使用外部控制符长度定义文件（Ctrl_Len.txt），则控制符所占字节数由该文件定义。

      其格式为：控制符=所占字节数（10进制）

      其数量控制在：单个控制符长度必须小于14个字符，整个控制符数量应小于650个。

   b、若不使用外部控制符长度定义文件或者存在外部控制符长度文件中未定义过的控制符，则其所占字
      节数由以下规则定义：

      ①、工具会扫描每个“{}”表示的控制符。如果找到“,”（英文半角逗号）的话，就会读取紧跟
          其后的10进制数字，该数字即表示该控制符所占的字节数。

      ②、若控制符内有多个“,”，则以第一个找到的“,”为准。

      ③、若没有找到“,”，则程序默认该控制符占8个字节。

   c、若文本中有半角字符，则每个半角字符占1个字节。

   d、其余全角字符所占字节数以“文本中每个全角字符所占字节数”选项值控制。

   e、使用外部控制符长度定义文件的话会降低打开文件速度，降低程度由该文件大小和原文本所含控制
      符数量决定。

6、预览界面上方的导航条滑块用来指示当前页。点击该导航条可以手动刷新当前文件。

   当文本文件的总行数大于选项中“每页显示行数”的数值时，会分成若干页显示。点击滑块的左/右
   侧，会进入上/下一页，或者直接拖动滑块到想要的页数。

7、当预览界面内的文本行数达到1万行左右这个数量时预览显示速度会明显变慢，请合理设置每页的显
   示行数。

   选项里有两项和显示速度有关，即：“每页显示行数”和“表格生成粒度”。前一项的数值必须能够
   整除后一项的数值，若不能整除的话程序会自动把前一项更改为合适的数值。

8、当输入焦点在编辑框内时，同时按“Ctrl+<”或“Ctrl+>”可以直接进入上/下一句，输入焦点不在
   编辑框内时该快捷键无效。

9、程序会自动保存，保存时会忽略回车换行符。

10、可以设置输入的标点、字母等是否要自动从半角转换成全角，控制符内不会转换。

11、工具具有查找替换功能：

   “查找当前页”会在预览框内的当前显示页内查找关键词；

   “替换译文”会在当前中文译文范围内查找/替换关键词，不局限于当前页，搜索到的关键词会在编
    辑框内选中或是被替换，“全部替换”则是直接替换关键词，不在编辑框内显示。

12、工具安装目录下的“Ctrl_Effect.txt”文件为特殊效果配置文件。可以把文本中某些字、词、控制
    符等，在预览界面内替换成想要达到的特殊效果字符。

    该效果只有在“隐藏控制符”按钮处于按下状态时，才会显示。弹起状态时，呈现的是原始字符。

    用法很简单，每行一个替换效果：“原始字符=特殊效果”。其中“特殊效果”必须是html代码。

    注意：

    如果想要替换的字符是半角空格时，在“=”之前要用“&ampnbsp;”代替真实的半角空格字符。

13、工具具有重复文本自动翻译功能：

    该功能会搜索当前行及之后的日文原文是否有和当前行之前的日文原文相同的条目（普通文本
    和控制符都相同才算相同）。

    若有的话，会把对应的重复日文原文自动翻译好。

    注意：

    a、重复文本自动翻译的内容以第一次找到的相同日文原文所对应的译文为准，若该译文还未翻
       译，则继续向下寻找，直到找到一个翻译过的译文。若找不到翻译过的译文，则不翻译。

    b、若当前行及以后的日文原文已经翻译过，会自动跳转到该行并提示是否要覆盖。

14、在宽度选项中“中文”列宽度和“对照”列宽度选项的数值若设为0的话，则预览界面内不显示
    相应列。

15、在按下“跳转至...”按钮后打开的对话框内，双击空行列表可以直接跳转至该行。

    或者使用“下一行”/“上一行”按钮来分别跳转至下一个空行/上一个空行。

    或者在编辑框内填入想要跳转的行数，按下“确定”按钮，会直接跳转至该行。
</pre>
<hr>
<pre>
工具目录结构：

\				工具安装目录
|
+-------jp-text			日文文本存放文件夹
|				存放导出的文本文本文件
|
+-------cn-text			译文文本存放文件夹
|				存放翻译好的中文译文，文件名同对应的日文原文文件
|
+-------cn-compare			对照译文存放文件夹
|				存放对照或润色的文本，文件名同对应的日文原文文件
|
+-------temp			缓存文件夹（仅在获取系统缓存文件夹失败时需要）
|	|
|	+--------temp.html		预览缓存文件（仅在获取系统缓存文件夹失败时创建）
|
+-------Text_Localize_Tool.exe	工具主程序
|
+-------Config.ini			工具配置文件
|
+-------Ctrl_Effect.txt		特殊效果配置文件
|
+-------Ctrl_Len.txt		控制符长度文件
</pre>
<hr>
<pre>
已知bug：

1、如果句首就是控制符的话，首次在句首插入中文（即打开输入法输入字符），插入的字符会被
   误认为是控制符。

   解决方法：先在关闭输入法的状态下输入一个英文字符，然后再打开输入法输入中文即可正常
   显示。输入完后再删除开头输入的英文字符。

2、在两个控制符之间（即在"}"和"{"之间）输入中文字符（即打开输入法输入字符），输入的字
   符会被误认为是控制符。

   解决方法：先在关闭输入法的状态下输入一个英文字符，然后再打开输入法输入中文即可正常
   显示。输入完后再删除开头输入的英文字符。

3、在个别机器上关闭本工具后程序会崩溃（原因不明-，-）。
</pre>
<hr>
<pre>
修改历史：

==================

V2.2 2010-05

1、改进了重复文本翻译功能，在遇到重复日文已有译文时会跳转到该行并提示用户是否覆盖。

2、优化使用外部控制符定义长度的算法，提高效率。（单个控制符长度必须小于14个字符，整个
   控制符数量应小于650个）

==================

V2.1 2010-04

1、加入若打开相同的文件则可以恢复到原位置的功能。

2、去除主窗口上的“点击刷新=>”文字提示。

3、加入“中文”列若与“对照译文”列均为空时，也当作无区别的选项。

4、加入使用外部定义控制符长度文件的功能。

5、加入“跳转至...”按钮，并且双击空行列表可直接跳至该行。

6、修正拖动主窗口边框且拖动量很小时，预览窗口不会改变大小的bug。

7、修正若最后一行文本越界的话，提示信息框背景不会变色的bug。

8、修正读取Ctrl_Effect.txt和Ctrl_Len.txt文件时，文件结尾若没有回车换行符则不会读取最
   后一行内容的bug。

==================

V2.0 2010-04

1、用明文定义readme页面编码。

2、加入恢复默认功能。

3、加入“中文”列完整高亮显示差异文字选项。

4、修正若水平滚动条不在最左端时手动刷新页面不会恢复原位置的bug。

==================

V1.92 2010-04

1、修正了编辑框高度计算不恰当的bug。

2、点击导航条手动刷新的话会自动滚动到上次的当前项位置。

3、调整部分按钮位置。

4、加入自定义编辑框字号大小选项。

==================

V1.91 2010-04

1、修正了最小化窗口后，功能区各控件布局异常的bug。

2、加入了分页导航栏单页是否可点击的选项。

==================

V1.9 2010-04

1、加入自定义颜色选项。

2、修正最小化后预览框滚动条位置异常的bug。

3、加入记忆编辑框高度选项。

4、修正copy文本至编辑框后，保存时会保存回车换行符的bug。

5、加入“对照译文”列宽度选项。

6、若“中文”列宽度或“对照译文”列宽度设为0则不显示该列。

7、加入“日文”列使用中文字体选项。

8、优化主窗口改变尺寸后功能区内各控件的布局。

==================

V1.8 2010-03

1、加入主窗口功能区折叠功能。

2、预览框和编辑框可手动拖动边框调节高度。

3、主窗口可以手动任意改变大小。

4、若对照译文和中文译文无区别时，对照译文以“+-+-+-+-+-+”显示。

5、加入当前日文复制到中文和当前对照译文复制到中文的功能。

6、修正按下“重复文本翻译”按钮后不会恢复其余按钮可用状态的bug。

7、改进了预览框页面显示机制，修复了多次打开同一文件会有内存泄漏的情况且稍许提高了页面
   显示速度。

==================

V1.7 2010-03

1、加入是否要自动半角转全角的选项。

2、加入计算文本越界时对半角字符的支持（半角字符做1字节长处理）。

3、修正预览框内无法正常显示半角空格、小于号和“&”符号的问题。

==================

V1.6 2010-02

1、加入查找/替换功能。

2、加入显示Readme按钮。

3、多次打开同一文件，好像有内存泄漏问题，查明原因后下次更新时修正。

==================

V1.5 2010-01

1、精简了输出信息。

2、把文本越界提示模式从“下划线+红色文字”改为“黄色文字背景”，显得更加醒目。

3、把中文和对照译文不同之处的文字颜色从绿色改成红色。

==================

V1.4 2010-01

1、加入重复文本自动翻译功能。

==================

V1.3 2010-01

1、修正了在U盘等慢速存储介质上直接运行本工具导致假死的问题。

2、修正了计算控制符长度错误。

3、若设置为允许修改控制符的话，编辑框背景色将会变成黄色，用来提醒用户。

4、修正了在两个控制符之间（即在"}"和"{"之间）无法输入字符的问题。（bug2）

==================

V1.2 2010-01

1、把编辑框移到预览界面下方。

==================

V1.1 2009-12

1、修正了在紧跟着控制符之后插入汉字会误认为是在编辑控制符的问题。

2、改变了是否允许控制符编辑的方式。改在选项中设置，不会在每次编辑控制符时都弹出提示。

3、修正了在文件列表框内双击空白处会出错的问题。

==================

V1.0 2009-12

1、第一版。
</pre>
</html>
